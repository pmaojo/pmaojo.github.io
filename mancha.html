<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Título de tu página</title>
    <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>

    <style>
        .scratchpad {
  width: 100%;
  max-width: 500px;
  height: 100vh;
  border: solid 16px #ffffff;
  margin: 0 auto;
}
body {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  background: #ddd;
  height: 100%;
  position: relative;
}
@media (max-width: 500px) {
  .scratchpad {
    width: 90%;
    height: 100vh;
  }
}
#after-scratch-content {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 24px;
  font-family: Helvetica;
  background: green;
}

    </style>
</head>
<body>
    <header>
        <h1>Título de la página</h1>
    </header>
    
    <main>
        <div id="promo" class="scratchpad"></div>
    </main>
    
    <footer>
        <p>Derechos de autor © 2024 - Tu Nombre</p>
    </footer>
    <script>
var svgFg =...;
var svgBg ='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100" height="100" fill="yellow" /></svg>';

function svgToDataURL(svgStr) {
  return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svgStr);
}

(function (a) {
  "use strict";
  function b(b, c) {
    (this.$el = a(b)),
      (this.options = c),
      (this.init = !1),
      (this.enabled = !0),
      this._generate();
  }
  (b.prototype = {
    _generate: function () {
      return a.support.canvas
        ? ((this.canvas = document.createElement("canvas")),
          (this.ctx = this.canvas.getContext("2d")),
          "static" === this.$el.css("position") &&
            this.$el.css("position", "relative"),
          (this.$img = $('<img src=""/>').css({
            position: "absolute",
            width: "100%",
            height: "100%"
          })),
          (this.$scratchpad = a(this.canvas).css({
            position: "absolute",
            width: "100%",
            height: "100%"
          })),
          this.$scratchpad.bindMobileEvents(),
           
          this.$scratchpad
            .mousedown(
              a.proxy(function (b) {
                return this.enabled
                  ? ((this.canvasOffset = a(this.canvas).offset()),
                    (this.scratch = !0),
                    void this._scratchFunc(b, "Down"))
                  : !0;
              }, this)
            )
            .mousemove(
              a.proxy(function (a) {
                this.scratch && this._scratchFunc(a, "Move");
              }, this)
            )
            .mouseup(
              a.proxy(function (a) {
                this.scratch &&
                  ((this.scratch = !1), this._scratchFunc(a, "Up"));
              }, this)
            ),
          this._setOptions(),
          this.$el.append(this.$img).append(this.$scratchpad),
          (this.init = !0),
          void this.reset())
        : (this.$el.append("Canvas is not supported in this browser."), !0);
    },
    reset: function () {
      var b = this,
        c = Math.ceil(this.$el.innerWidth()),
        d = Math.ceil(this.$el.innerHeight()),
        e = window.devicePixelRatio || 1;
      (this.pixels = c * d),
        this.$scratchpad.attr("width", c).attr("height", d),
        this.canvas.setAttribute("width", c * e),
        this.canvas.setAttribute("height", d * e),
        this.ctx.scale(e, e),
        (this.pixels = c * e * d * e),
        this.$img.hide(),
        this.options.bg &&
          ("#" === this.options.bg.charAt(0)
            ? this.$el.css("backgroundColor", this.options.bg)
            : (this.$el.css("backgroundColor", ""),
              this.$img.attr("src", this.options.bg))),
        this.options.fg &&
          ("#" === this.options.fg.charAt(0)
            ? ((this.ctx.fillStyle = this.options.fg),
              this.ctx.beginPath(),
              this.ctx.rect(0, 0, c, d),
              this.ctx.fill(),
              this.$img.show())
            : a(new Image())
                .attr("src", this.options.fg)
                .load(function () {
                  var fgWidth = c / 2;
                  var fgHeight = d / 2.5;

                  var fgOffsetX = 100;
                  var fgOffsetY = -100;

                  var fgPosX = (c - fgWidth) / 2 + fgOffsetX;
                  var fgPosY = (d - fgHeight) / 2 + fgOffsetY;

                  b.ctx.drawImage(this, fgPosX, fgPosY, fgWidth, fgHeight);
                  b.$img.show();
                }));
    },
    clear: function () {
      this.ctx.clearRect(
        0,
        0,
        Math.ceil(this.$el.innerWidth()),
        Math.ceil(this.$el.innerHeight())
      );
    },
    enable: function (a) {
      this.enabled = a === !0 ? !0 : !1;
    },
    destroy: function () {
      this.$el.children().remove(), a.removeData(this.$el, "wScratchPad");
    },
    _setOptions: function () {
      var a, b;
      for (a in this.options)
        (this.options[a] = this.$el.attr("data-" + a) || this.options[a]),
          (b = "set" + a.charAt(0).toUpperCase() + a.substring(1)),
          this[b] && this[b](this.options[a]);
    },
    setBg: function () {
      this.init && this.reset();
    },
    setFg: function () {
      this.setBg();
    },
    setCursor: function (a) {
      this.$el.css("cursor", a);
    },
    _scratchFunc: function (a, b) {
      (a.pageX = Math.floor(a.pageX - this.canvasOffset.left)),
        (a.pageY = Math.floor(a.pageY - this.canvasOffset.top)),
        this["_scratch" + b](a),
        (this.options.realtime || "Up" === b) &&
          this.options["scratch" + b] &&
          this.options["scratch" + b].apply(this, [a, this._scratchPercent()]);
    },
    _scratchPercent: function () {
      for (
        var a = 0,
          b = this.ctx.getImageData(
            0,
            0,
            this.canvas.width,
            this.canvas.height
          ),
          c = 0,
          d = b.data.length;
        d > c;
        c += 4
      )
        0 === b.data[c] &&
          0 === b.data[c + 1] &&
          0 === b.data[c + 2] &&
          0 === b.data[c + 3] &&
          a++;
      return (a / this.pixels) * 100;
    },
    _scratchDown: function (a) {
      (this.ctx.globalCompositeOperation = "destination-out"),
        (this.ctx.lineJoin = "round"),
        (this.ctx.lineCap = "round"),
        (this.ctx.strokeStyle = this.options.color),
        (this.ctx.lineWidth = this.options.size),
        this.ctx.beginPath(),
        this.ctx.arc(
          a.pageX,
          a.pageY,
          this.options.size / 2,
          0,
          2 * Math.PI,
          !0
        ),
        this.ctx.closePath(),
        this.ctx.fill(),
        this.ctx.beginPath(),
        this.ctx.moveTo(a.pageX, a.pageY);
    },
    _scratchMove: function (a) {
      this.ctx.lineTo(a.pageX, a.pageY), this.ctx.stroke();
    },
    _scratchUp: function () {
      this.ctx.closePath();
      var percentScratched = this._scratchPercent();
      if (percentScratched > 99.95) {
        this.clear();
        var contentDiv = $(
          '<div id="after-scratch-content">Contenido después</div>'
        );
        this.$el.append(contentDiv);
      }
    }
  }),
    (a.support.canvas = document.createElement("canvas").getContext),
    (a.fn.wScratchPad = function (c, d) {
      function e() {
        var d = a.data(this, "wScratchPad");
        return (
          d ||
            ((d = new b(this, a.extend(!0, {}, c))),
            a.data(this, "wScratchPad", d)),
          d
        );
      }
      if ("string" == typeof c) {
        var f,
          g = [],
          h =
            (void 0 !== d ? "set" : "get") +
            c.charAt(0).toUpperCase() +
            c.substring(1),
          i = function () {
            f.options[c] && (f.options[c] = d), f[h] && f[h].apply(f, [d]);
          },
          j = function () {
            return f[h]
              ? f[h].apply(f, [d])
              : f.options[c]
              ? f.options[c]
              : void 0;
          },
          k = function () {
            (f = a.data(this, "wScratchPad")),
              f &&
                (f[c] ? f[c].apply(f, [d]) : void 0 !== d ? i() : g.push(j()));
          };
        return this.each(k), g.length ? (1 === g.length ? g[0] : g) : this;
      }
      return (c = a.extend({}, a.fn.wScratchPad.defaults, c)), this.each(e);
    }),
    (a.fn.wScratchPad.defaults = {
      size: 5,
      bg: "#cacaca",
      fg: "#6699ff",
      realtime: !0,
      scratchDown: null,
      scratchUp: null,
      scratchMove: null,
      cursor: "crosshair"
    }),
    (a.fn.bindMobileEvents = function () {
  a(this).on("touchstart touchmove touchend touchcancel", function (e) {
    var touches = e.changedTouches || e.originalEvent.targetTouches;
    var touch = touches[0];
    var eventType = "";

    switch (e.type) {
      case "touchstart":
        eventType = "mousedown";
        break;
      case "touchmove":
        eventType = "mousemove";
        e.preventDefault(); // Prevent default touch behavior
        break;
      case "touchend":
        eventType = "mouseup";
        break;
      default:
        return;
    }

    var mouseEvent = new MouseEvent(eventType, {
      bubbles: true,
      cancelable: true,
      view: window,
      detail: 1,
      screenX: touch.screenX || 0,
      screenY: touch.screenY || 0,
      clientX: (touch.clientX || 0) + offsetX,
      clientY: (touch.clientY || 0) + offsetY,
      ctrlKey: false,
      altKey: false,
      shiftKey: false,
      metaKey: false,
      button: 0,
      relatedTarget: null,
    });

    touch.target.dispatchEvent(mouseEvent);
  });
    });
})(jQuery);

$("#promo").wScratchPad({
  size: 70,
  realtime: true,
  bg: svgToDataURL(svgBg), // Background SVG
  fg: svgToDataURL(svgFg), // Foreground SVG
  cursor:
    'url("https://pluspng.com/img-png/circle-png-circled-thin-icon-1600.png") 5 5, default'
});

    </script>
</body>
</html>
